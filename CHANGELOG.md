# 更新日志

## [1.3.0] - 2024-12-23

### ✨ 新增功能
- **👥 客户管理系统**：完整的客户增删管理功能
- **🗑️ 数据删除功能**：支持删除单条记录和整个客户
- **📋 一键复制功能**：
  - 复制单条记录的格式化数据
  - 复制所有用户的汇总数据报告
- **📈 统计优化**：将"平均普通蜡烛"改为"平均增长"

### 🛠️ 功能完善
- **客户管理标签页**：
  - 添加新客户（支持名称和头像选择）
  - 删除客户（会同时删除所有相关记录）
  - 美观的客户卡片展示
- **数据管理增强**：
  - 每条记录都有操作按钮（复制/删除）
  - 删除前有确认提示
  - 一键复制所有用户数据汇总
- **统计数据优化**：
  - 基于对比值计算平均增长
  - 显示格式：+5、-3、0 等

### 🎯 用户体验提升
- **更完善的管理功能**：三个标签页覆盖所有管理需求
- **更便捷的数据操作**：一键复制、快速删除
- **更实用的统计信息**：关注增长趋势而非绝对数值

---

## [1.2.0] - 2024-12-23

### 🎨 界面布局优化
- **客户选择界面重构**：优化卡片大小和间距，使用正方形布局更加协调
- **移除添加客户按钮**：用户前端完全隐藏添加客户功能，保持界面简洁
- **卡片尺寸调整**：增大头像尺寸和卡片内边距，提升视觉效果

### 🗑️ 功能精简
- **删除服务时间字段**：从数据库、表单和所有显示界面中移除服务时间相关功能
- **优化数据展示**：客户仪表盘现在显示 4 个核心数据卡片
- **简化表格结构**：管理后台表格移除服务时间列，聚焦核心数据

### 📊 数据结构调整
- 数据库表 `daily_records` 移除字段：
  - `service_hours` - 服务时间字段已删除
- 保留核心字段：
  - `online_time` - 上线时间
  - `actual_duration` - 实际用时（分钟）

### 🎯 用户体验提升
- **更简洁的界面**：移除冗余信息，聚焦核心数据
- **更协调的布局**：客户选择界面视觉效果更加平衡
- **更清晰的数据层次**：突出重要信息，减少视觉干扰

---

## [1.1.0] - 2024-12-23

### ✨ 新增功能
- **上线时间记录**：添加了上线时间字段，可以记录每日代练的具体上线时间
- **实际用时记录**：添加了实际用时字段，以分钟为单位记录代练实际花费的时间
- **星空主题设计**：全新的《光·遇》星空主题，深邃的星空背景配合动态星星动画

### 🎨 界面优化
- **高对比度设计**：白色和浅蓝色文字确保在深色背景下清晰可读
- **玻璃拟态效果**：半透明卡片配合背景模糊效果，营造现代感
- **动态星星背景**：添加了闪烁的星星动画，增强《光·遇》氛围
- **渐变色彩搭配**：使用深蓝紫色渐变背景，符合游戏美学

### 🔧 功能改进
- **隐藏添加客户按钮**：用户前端不再显示添加客户功能，保持界面简洁
- **扩展数据展示**：客户仪表盘现在显示时间相关数据
- **完善表格显示**：管理后台表格增加了上线时间和实际用时列
- **优化表单布局**：管理后台表单重新排列，更加直观易用

### 📊 数据结构更新
- 数据库表 `daily_records` 新增字段：
  - `online_time` - 上线时间 (TIME 格式)
  - `actual_duration` - 实际用时（分钟，INTEGER 格式）

### 🎯 用户体验提升
- **更清晰的数据展示**：新增的时间信息让代练记录更加详细
- **更美观的视觉效果**：星空主题让界面更加符合《光·遇》的游戏氛围
- **更好的信息层次**：通过颜色和布局优化，信息层次更加清晰

---

## [1.0.0] - 2024-12-23

### 🎉 初始版本发布

#### ✨ 核心功能
- **双入口系统**：客户前端和管理后台完全分离
- **Netflix 风格客户选择**：直观的客户选择界面
- **智能对比值计算**：自动计算普通蜡烛的日环比数据
- **响应式设计**：完美适配手机、平板和桌面设备

#### 🛠️ 技术架构
- **Next.js 15**：最新的 React 全栈框架
- **React 19**：最新的 React 版本
- **Tailwind CSS 4**：原子化 CSS 框架
- **TypeScript**：类型安全的 JavaScript
- **Supabase**：PostgreSQL 数据库（可选）

#### 🔒 安全特性
- **访问控制**：速率限制和输入验证
- **认证系统**：管理员登录和权限管理
- **数据保护**：安全的 API 设计

#### 🚀 部署方案
- **Vercel 一键部署**：完整的部署配置
- **CI/CD 流程**：GitHub Actions 自动化
- **环境分离**：开发、预发布、生产环境

#### 📱 功能模块
- **客户前端**：
  - 客户选择页面
  - 个人数据仪表盘（今日反馈 + 历史星图）
- **管理后台**：
  - 数据录入界面
  - 数据管理和统计

#### 📊 数据模型
- **客户表**：存储客户基本信息
- **每日记录表**：存储代练数据和统计信息

---

## 技术栈版本

- **Next.js**: 15.3.4
- **React**: 19.0.0
- **Tailwind CSS**: 4.0.0
- **TypeScript**: 5.x
- **Node.js**: 18+

## 升级指南

### 从 1.0.0 升级到 1.1.0

1. **数据库迁移**：
   ```sql
   ALTER TABLE daily_records 
   ADD COLUMN online_time TIME DEFAULT NULL,
   ADD COLUMN actual_duration INTEGER DEFAULT NULL;
   ```

2. **更新依赖**：
   ```bash
   npm install
   ```

3. **重新部署**：
   - 推送代码到 GitHub
   - Vercel 将自动部署新版本

### 注意事项
- 新增字段为可选字段，不会影响现有数据
- 界面主题发生重大变化，建议通知用户
- 管理后台表单增加了新字段，需要培训管理员使用
